# Manjaro Updater ‚Äî –ì—Ä–∞—Ñ–∏—á–µ—Å–∫–∏–π –ø–æ–º–æ—â–Ω–∏–∫ –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è –∏ –æ–±—Å–ª—É–∂–∏–≤–∞–Ω–∏—è —Å–∏—Å—Ç–µ–º—ã

–ü—Ä–æ—Å—Ç–æ–π –∏ –±–µ–∑–æ–ø–∞—Å–Ω—ã–π GUI-–∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç –¥–ª—è –ø–æ–ª–Ω–æ–≥–æ –æ–±—Å–ª—É–∂–∏–≤–∞–Ω–∏—è —Å–∏—Å—Ç–µ–º—ã Manjaro Linux:  
–æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ –∑–µ—Ä–∫–∞–ª, —Å–∏—Å—Ç–µ–º—ã, –æ—á–∏—Å—Ç–∫–∞ –∫—ç—à–∞, –ª–æ–≥–æ–≤ –∏ –æ—Å—Ç–∞—Ç–æ—á–Ω—ã—Ö –ø–∞–∫–µ—Ç–æ–≤ ‚Äî –≤—Å—ë –≤ –æ–¥–Ω–æ–º –æ–∫–Ω–µ.

> ‚úÖ **–†–∞–±–æ—Ç–∞–µ—Ç —Ç–æ–ª—å–∫–æ –æ—Ç –æ–±—ã—á–Ω–æ–≥–æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è! –ù–µ –∑–∞–ø—É—Å–∫–∞–π—Ç–µ —á–µ—Ä–µ–∑ `sudo`!**

## üîí –ü–æ—á–µ–º—É –Ω–µ–ª—å–∑—è –∑–∞–ø—É—Å–∫–∞—Ç—å —á–µ—Ä–µ–∑ `sudo`?
- GUI-–ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è –æ—Ç root –º–æ–≥—É—Ç –ø–æ–≤—Ä–µ–¥–∏—Ç—å –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–∏–µ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏.
- –°–æ–≤—Ä–µ–º–µ–Ω–Ω—ã–µ –¥–µ—Å–∫—Ç–æ–ø-—Å—Ä–µ–¥—ã (Wayland, systemd --user) –Ω–µ —Ä–µ–∫–æ–º–µ–Ω–¥—É—é—Ç –∑–∞–ø—É—Å–∫ GUI –æ—Ç root.
- –°–∫—Ä–∏–ø—Ç —Å–∞–º –±–µ–∑–æ–ø–∞—Å–Ω–æ –∑–∞–ø—Ä–∞—à–∏–≤–∞–µ—Ç –ø–∞—Ä–æ–ª—å —á–µ—Ä–µ–∑ –≥—Ä–∞—Ñ–∏—á–µ—Å–∫–æ–µ –æ–∫–Ω–æ –ø—Ä–∏ –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ—Å—Ç–∏.

## üöÄ –£—Å—Ç–∞–Ω–æ–≤–∫–∞ –∏ –∑–∞–ø—É—Å–∫

1. –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω—ã –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏:
sudo pacman -S python-tk tk ksshaskpass

üí° ksshaskpass –æ–±–µ—Å–ø–µ—á–∏–≤–∞–µ—Ç –≥—Ä–∞—Ñ–∏—á–µ—Å–∫–æ–µ –æ–∫–Ω–æ –≤–≤–æ–¥–∞ –ø–∞—Ä–æ–ª—è –¥–ª—è sudo.
–û–Ω —Ä–∞–±–æ—Ç–∞–µ—Ç –≤–æ –≤—Å–µ—Ö –æ–∫—Ä—É–∂–µ–Ω–∏—è—Ö (KDE, XFCE, GNOME –∏ –¥—Ä.). 

2. –°–æ–∑–¥–∞–π—Ç–µ —Å–∏–º–ª–∏–Ω–∫ (–µ—Å–ª–∏ –µ—â—ë –Ω–µ —Å–¥–µ–ª–∞–Ω–æ):

sudo ln -sf /usr/bin/ksshaskpass /usr/bin/ssh-askpass

3. –°–¥–µ–ª–∞–π—Ç–µ —Å–∫—Ä–∏–ø—Ç –∏—Å–ø–æ–ª–Ω—è–µ–º—ã–º:

chmod +x ~/manjaro_updater/manjaro_updater.py

4. –ó–∞–ø—É—Å–∫–∞–π—Ç–µ –±–µ–∑ sudo:

~/manjaro_updater/manjaro_updater.py

(–û–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ) –Ø—Ä–ª—ã–∫ –≤ –º–µ–Ω—é –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–π

–°–æ–∑–¥–∞–π—Ç–µ —Ñ–∞–π–ª ~/.local/share/applications/manjaro-updater.desktop:

[Desktop Entry]
Name=Manjaro Updater
Comment=–ì—Ä–∞—Ñ–∏—á–µ—Å–∫–∏–π –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è –∏ –æ—á–∏—Å—Ç–∫–∏ —Å–∏—Å—Ç–µ–º—ã
Exec=/home/–í–ê–®_–ü–û–õ–¨–ó–û–í–ê–¢–ï–õ–¨/manjaro_updater/manjaro_updater.py
Icon=system-software-update
Terminal=false
Type=Application
Categories=System;Utility;
StartupNotify=true

‚ö†Ô∏è –ó–∞–º–µ–Ω–∏—Ç–µ –í–ê–®_–ü–û–õ–¨–ó–û–í–ê–¢–ï–õ–¨ –Ω–∞ –≤–∞—à–µ –∏–º—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è (–Ω–∞–ø—Ä–∏–º–µ—Ä, neadmin). 

üõ† –í–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏
üîÅ –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ –∑–µ—Ä–∫–∞–ª (pacman-mirrors --fasttrack)
üîÑ –ü–æ–ª–Ω–æ–µ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ —Å–∏—Å—Ç–µ–º—ã (pacman -Syu)
üîç –ü—Ä–æ–≤–µ—Ä–∫–∞ –∏ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π
üßπ –û—á–∏—Å—Ç–∫–∞ –∫—ç—à–∞ –ø–∞–∫–µ—Ç–æ–≤ (pacman -Sc)
üóë –£–¥–∞–ª–µ–Ω–∏–µ –æ—Å—Ç–∞—Ç–æ—á–Ω—ã—Ö –ø–∞–∫–µ—Ç–æ–≤
üìÅ –û—á–∏—Å—Ç–∫–∞ —Å–∏—Å—Ç–µ–º–Ω—ã—Ö –ª–æ–≥–æ–≤ (journalctl, /var/log)
üéØ –ê–≤—Ç–æ–æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ –∏ –æ—á–∏—Å—Ç–∫–∞ ‚Äî –≤—Å—ë –∑–∞ –æ–¥–∏–Ω –∫–ª–∏–∫!

‚ö† –¢—Ä–µ–±–æ–≤–∞–Ω–∏—è
Manjaro Linux (–∏–ª–∏ –¥—Ä—É–≥–æ–π Arch-—Å–æ–≤–º–µ—Å—Ç–∏–º—ã–π –¥–∏—Å—Ç—Ä–∏–±—É—Ç–∏–≤)
–£—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–Ω—ã–µ tk –∏ python-tk (–¥–ª—è GUI)
–ù–∞—Å—Ç—Ä–æ–µ–Ω–Ω—ã–π –≥—Ä–∞—Ñ–∏—á–µ—Å–∫–∏–π –∑–∞–ø—Ä–æ—Å –ø–∞—Ä–æ–ª—è (ksshaskpass + —Å–∏–º–ª–∏–Ω–∫)

üí° –°–æ–≤–µ—Ç
–ï—Å–ª–∏ –ø–∞—Ä–æ–ª—å –Ω–µ –∑–∞–ø—Ä–∞—à–∏–≤–∞–µ—Ç—Å—è —á–µ—Ä–µ–∑ GUI, –ø—Ä–æ–≤–µ—Ä—å—Ç–µ:

/usr/bin/ssh-askpass "–¢–µ—Å—Ç"

‚Üí –î–æ–ª–∂–Ω–æ –ø–æ—è–≤–∏—Ç—å—Å—è –æ–∫–Ω–æ –≤–≤–æ–¥–∞. –ï—Å–ª–∏ –Ω–µ—Ç ‚Äî –ø–æ–≤—Ç–æ—Ä–∏—Ç–µ —É—Å—Ç–∞–Ω–æ–≤–∫—É ksshaskpass.

–ê–≤—Ç–æ—Ä: –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å + AI-–∞—Å—Å–∏—Å—Ç–µ–Ω—Ç ‚ù§Ô∏è
–í–µ—Ä—Å–∏—è: 2.0 (–±–µ–∑ AUR, —Ç–æ–ª—å–∫–æ –æ—Ñ–∏—Ü–∏–∞–ª—å–Ω—ã–µ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–∏, —Å—Ç–∞–±–∏–ª—å–Ω–∞—è GUI-–≤–µ—Ä—Å–∏—è)
