# Manjaro Updater ‚Äî –ì—Ä–∞—Ñ–∏—á–µ—Å–∫–∏–π –ø–æ–º–æ—â–Ω–∏–∫ –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è –∏ –æ–±—Å–ª—É–∂–∏–≤–∞–Ω–∏—è —Å–∏—Å—Ç–µ–º—ã

–ü—Ä–æ—Å—Ç–æ–π –∏ –±–µ–∑–æ–ø–∞—Å–Ω—ã–π GUI-–∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç –¥–ª—è –ø–æ–ª–Ω–æ–≥–æ –æ–±—Å–ª—É–∂–∏–≤–∞–Ω–∏—è —Å–∏—Å—Ç–µ–º—ã Manjaro Linux:  
–æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ –∑–µ—Ä–∫–∞–ª, —Å–∏—Å—Ç–µ–º—ã, –ø–∞–∫–µ—Ç–æ–≤ AUR, –æ—á–∏—Å—Ç–∫–∞ –∫—ç—à–∞ –∏ –ª–æ–≥–æ–≤ ‚Äî –≤—Å—ë –≤ –æ–¥–Ω–æ–º –æ–∫–Ω–µ.

> ‚úÖ **–†–∞–±–æ—Ç–∞–µ—Ç —Ç–æ–ª—å–∫–æ –æ—Ç –æ–±—ã—á–Ω–æ–≥–æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è! –ù–µ –∑–∞–ø—É—Å–∫–∞–π—Ç–µ —á–µ—Ä–µ–∑ `sudo`!**

## üîí –ü–æ—á–µ–º—É –Ω–µ–ª—å–∑—è –∑–∞–ø—É—Å–∫–∞—Ç—å —á–µ—Ä–µ–∑ `sudo`?
- `yay` **–∑–∞–ø—Ä–µ—â–∞–µ—Ç –∑–∞–ø—É—Å–∫ –æ—Ç root** ‚Äî —ç—Ç–æ –º–µ—Ä–∞ –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏ AUR.
- GUI-–ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è –æ—Ç root –º–æ–≥—É—Ç –ø–æ–≤—Ä–µ–¥–∏—Ç—å –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–∏–µ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏.
- –°–æ–≤—Ä–µ–º–µ–Ω–Ω—ã–µ –¥–µ—Å–∫—Ç–æ–ø-—Å—Ä–µ–¥—ã (Wayland, systemd --user) –Ω–µ —Ä–µ–∫–æ–º–µ–Ω–¥—É—é—Ç –∑–∞–ø—É—Å–∫ GUI –æ—Ç root.

–í–º–µ—Å—Ç–æ —ç—Ç–æ–≥–æ:
- –°–∫—Ä–∏–ø—Ç –∑–∞–ø—É—Å–∫–∞–µ—Ç—Å—è **–æ—Ç –≤–∞—à–µ–≥–æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è**.
- –ö–æ–º–∞–Ω–¥—ã –≤—Ä–æ–¥–µ `sudo pacman ...` **—Å–∞–º–∏ –∑–∞–ø—Ä–æ—Å—è—Ç –ø–∞—Ä–æ–ª—å** —á–µ—Ä–µ–∑ –≥—Ä–∞—Ñ–∏—á–µ—Å–∫–æ–µ –æ–∫–Ω–æ (–µ—Å–ª–∏ –Ω–∞—Å—Ç—Ä–æ–µ–Ω `ssh-askpass`).

## üöÄ –£—Å—Ç–∞–Ω–æ–≤–∫–∞ –∏ –∑–∞–ø—É—Å–∫

1. –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω—ã –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏:
sudo pacman -S python-tk tk ssh-askpass yay

–ó–∞–º–µ–Ω–∏—Ç–µ ssh-askpass –Ω–∞ ksshaskpass (KDE) –∏–ª–∏ gnome-keyring (GNOME), –µ—Å–ª–∏ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç–µ –¥—Ä—É–≥—É—é —Å—Ä–µ–¥—É. 

–°–¥–µ–ª–∞–π—Ç–µ —Å–∫—Ä–∏–ø—Ç –∏—Å–ø–æ–ª–Ω—è–µ–º—ã–º:
chmod +x ~/manjaro_updater/manjaro_updater.py

–ó–∞–ø—É—Å–∫–∞–π—Ç–µ –±–µ–∑ sudo:
~/manjaro_updater/manjaro_updater.py

(–û–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ) –°–æ–∑–¥–∞–π—Ç–µ —è—Ä–ª—ã–∫ –≤ –º–µ–Ω—é –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–π:–°–æ—Ö—Ä–∞–Ω–∏—Ç–µ —Ñ–∞–π–ª ~/.local/share/applications/manjaro-updater.desktop:

[Desktop Entry]
Name=Manjaro Updater
Comment=–ì—Ä–∞—Ñ–∏—á–µ—Å–∫–∏–π –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è –∏ –æ—á–∏—Å—Ç–∫–∏ —Å–∏—Å—Ç–µ–º—ã
Exec=/home/–í–ê–®_–ü–û–õ–¨–ó–û–í–ê–¢–ï–õ–¨/manjaro_updater/manjaro_updater.py
Icon=system-software-update
Terminal=false
Type=Application
Categories=System;Utility;
StartupNotify=true
–ù–µ –∑–∞–±—É–¥—å—Ç–µ –∑–∞–º–µ–Ω–∏—Ç—å –í–ê–®_–ü–û–õ–¨–ó–û–í–ê–¢–ï–õ–¨ –Ω–∞ –≤–∞—à–µ –∏–º—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è!

üõ† –í–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏
üîÅ –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ –∑–µ—Ä–∫–∞–ª (pacman-mirrors --fasttrack)
üîÑ –ü–æ–ª–Ω–æ–µ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ —Å–∏—Å—Ç–µ–º—ã (pacman -Syu)
üì¶ –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ AUR-–ø–∞–∫–µ—Ç–æ–≤ —á–µ—Ä–µ–∑ yay
üîç –ü—Ä–æ–≤–µ—Ä–∫–∞ –∏ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π
üßπ –û—á–∏—Å—Ç–∫–∞ –∫—ç—à–∞ pacman –∏ yay
üóë –£–¥–∞–ª–µ–Ω–∏–µ –æ—Å—Ç–∞—Ç–æ—á–Ω—ã—Ö –ø–∞–∫–µ—Ç–æ–≤
üìÅ –û—á–∏—Å—Ç–∫–∞ —Å–∏—Å—Ç–µ–º–Ω—ã—Ö –ª–æ–≥–æ–≤ (journalctl, /var/log)
üéØ –ö–Ω–æ–ø–∫–∞ ¬´–ê–≤—Ç–æ–æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ –∏ –æ—á–∏—Å—Ç–∫–∞¬ª ‚Äî –≤—Å—ë –∑–∞ –æ–¥–∏–Ω –∫–ª–∏–∫!

‚ö† –¢—Ä–µ–±–æ–≤–∞–Ω–∏—è
Manjaro Linux (–∏–ª–∏ –ª—é–±–æ–π Arch-—Å–æ–≤–º–µ—Å—Ç–∏–º—ã–π –¥–∏—Å—Ç—Ä–∏–±—É—Ç–∏–≤)
–£—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–Ω—ã–π yay (–¥–ª—è AUR)
–£—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–Ω—ã–π tk –∏ python-tk (–¥–ª—è GUI)
–ù–∞—Å—Ç—Ä–æ–µ–Ω–Ω—ã–π –≥—Ä–∞—Ñ–∏—á–µ—Å–∫–∏–π sudo-–∑–∞–ø—Ä–æ—Å (ssh-askpass –∏ —Ç.–ø.)

üí° –°–æ–≤–µ—Ç
–ï—Å–ª–∏ –ø—Ä–∏ –ø–µ—Ä–≤–æ–º –∑–∞–ø—É—Å–∫–µ sudo –Ω–µ –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç –æ–∫–Ω–æ –≤–≤–æ–¥–∞ –ø–∞—Ä–æ–ª—è ‚Äî –ø—Ä–æ–≤–µ—Ä—å—Ç–µ:
sudo -A whoami

–ï—Å–ª–∏ –æ–∫–Ω–æ –Ω–µ –ø–æ—è–≤–ª—è–µ—Ç—Å—è ‚Äî —É—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ –ø–æ–¥—Ö–æ–¥—è—â–∏–π *-askpass –¥–ª—è –≤–∞—à–µ–π —Å—Ä–µ–¥—ã.

–ê–≤—Ç–æ—Ä: –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å + AI-–∞—Å—Å–∏—Å—Ç–µ–Ω—Ç ‚ù§Ô∏è
–í–µ—Ä—Å–∏—è: 1.1 (—Å –ø–æ–¥–¥–µ—Ä–∂–∫–æ–π yay –∏ –±–µ–∑–æ–ø–∞—Å–Ω—ã–º –∑–∞–ø—É—Å–∫–æ–º –æ—Ç –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è)
